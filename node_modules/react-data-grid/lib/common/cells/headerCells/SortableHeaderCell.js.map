{"version":3,"file":"SortableHeaderCell.js","sourceRoot":"","sources":["../../../../src/common/cells/headerCells/SortableHeaderCell.tsx"],"names":[],"mappings":";AAAA,OAAO,KAAK,MAAM,OAAO,CAAC;AAC1B,OAAO,EAAE,SAAS,EAAE,MAAM,UAAU,CAAC;AACrC,OAAO,EAAiB,WAAW,EAAE,MAAM,aAAa,CAAC;AAGzD,IAAM,SAAS,GAAG,CAAA;IAChB,GAAC,WAAW,CAAC,GAAG,IAAG,QAAQ;IAC3B,GAAC,WAAW,CAAC,IAAI,IAAG,QAAQ;IAC5B,GAAC,WAAW,CAAC,IAAI,IAAG,EAAE;MACd,CAAA,CAAC;AAYX,MAAM,CAAC,OAAO,UAAU,kBAAkB,CAAI,KAAe;IACnD,IAAA,qBAAM,EAAE,uBAAO,EAAE,qBAAM,EAAE,mCAAa,EAAE,+CAAmB,EAAE,uCAAe,EAAE,yDAAwB,CAAW;IACzH,SAAS,OAAO;QACd,IAAI,CAAC,MAAM;YAAE,OAAO;QACpB,IAAI,SAAS,CAAC;QACd,QAAQ,aAAa,EAAE;YACrB,KAAK,WAAW,CAAC,GAAG;gBAClB,SAAS,GAAG,mBAAmB,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC;gBACtE,MAAM;YACR,KAAK,WAAW,CAAC,IAAI;gBACnB,SAAS,GAAG,mBAAmB,CAAC,CAAC,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC;gBACrE,MAAM;YACR;gBACE,SAAS,GAAG,mBAAmB,CAAC,CAAC,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC,CAAC,WAAW,CAAC,GAAG,CAAC;gBACrE,MAAM;SACT;QACD,MAAM,CAAC,MAAM,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;IAChC,CAAC;IAEO,IAAA,sCAAc,CAAY;IAClC,IAAM,OAAO,GAAG,CAAC,cAAc;QAC7B,CAAC,CAAC,MAAM,CAAC,IAAI;QACb,CAAC,CAAC,SAAS,CAAC,cAAc,CAAC;YACzB,CAAC,CAAC,KAAK,CAAC,YAAY,CAAC,cAAc,EAAE,EAAE,MAAM,QAAA,EAAE,CAAC;YAChD,CAAC,CAAC,KAAK,CAAC,aAAa,CAAC,cAAc,EAAE;gBACpC,MAAM,QAAA;gBACN,OAAO,SAAA;gBACP,eAAe,iBAAA;gBACf,wBAAwB,0BAAA;aACzB,CAAC,CAAC;IAEP,OAAO,CACL,8BAAM,SAAS,EAAC,sBAAsB,EAAC,OAAO,EAAE,OAAO;QACrD,8BAAM,SAAS,EAAC,sBAAsB,IAAE,OAAO,CAAQ;QACvD,kCAAO,SAAS,CAAC,aAAa,CAAC,CAAQ,CAClC,CACR,CAAC;AACJ,CAAC","sourcesContent":["import React from 'react';\nimport { isElement } from 'react-is';\nimport { HeaderRowType, DEFINE_SORT } from '../../enums';\nimport { CalculatedColumn } from '../../types';\n\nconst SORT_TEXT = {\n  [DEFINE_SORT.ASC]: '\\u25B2',\n  [DEFINE_SORT.DESC]: '\\u25BC',\n  [DEFINE_SORT.NONE]: ''\n} as const;\n\nexport interface Props<R> {\n  column: CalculatedColumn<R>;\n  rowType: HeaderRowType;\n  onSort?(columnKey: keyof R, direction: DEFINE_SORT): void;\n  sortDirection: DEFINE_SORT;\n  sortDescendingFirst: boolean;\n  allRowsSelected: boolean;\n  onAllRowsSelectionChange(checked: boolean): void;\n}\n\nexport default function SortableHeaderCell<R>(props: Props<R>) {\n  const { column, rowType, onSort, sortDirection, sortDescendingFirst, allRowsSelected, onAllRowsSelectionChange } = props;\n  function onClick() {\n    if (!onSort) return;\n    let direction;\n    switch (sortDirection) {\n      case DEFINE_SORT.ASC:\n        direction = sortDescendingFirst ? DEFINE_SORT.NONE : DEFINE_SORT.DESC;\n        break;\n      case DEFINE_SORT.DESC:\n        direction = sortDescendingFirst ? DEFINE_SORT.ASC : DEFINE_SORT.NONE;\n        break;\n      default:\n        direction = sortDescendingFirst ? DEFINE_SORT.DESC : DEFINE_SORT.ASC;\n        break;\n    }\n    onSort(column.key, direction);\n  }\n\n  const { headerRenderer } = column;\n  const content = !headerRenderer\n    ? column.name\n    : isElement(headerRenderer)\n      ? React.cloneElement(headerRenderer, { column })\n      : React.createElement(headerRenderer, {\n        column,\n        rowType,\n        allRowsSelected,\n        onAllRowsSelectionChange\n      });\n\n  return (\n    <span className=\"rdg-header-sort-cell\" onClick={onClick}>\n      <span className=\"rdg-header-sort-name\">{content}</span>\n      <span>{SORT_TEXT[sortDirection]}</span>\n    </span>\n  );\n}\n"]}